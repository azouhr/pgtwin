# PostgreSQL HA Cluster Configuration
# Managed by pgtwin resource agent
#
# This file contains the minimal required settings for PostgreSQL HA with pgtwin.
# Copy this file to /var/lib/pgsql/data/postgresql.custom.conf on the primary node.

# Replication settings
listen_addresses = '*'
port = 5432
max_connections = 100

# WAL settings for replication
wal_level = replica
max_wal_senders = 5
max_replication_slots = 5
hot_standby = on
wal_log_hints = on

# Synchronous replication (will be managed dynamically by pgtwin notify)
synchronous_standby_names = ''

# Archive mode (optional but recommended)
archive_mode = on
archive_command = '/bin/true'

# CRITICAL: MUST be off for Pacemaker management
# Setting this to 'on' will cause split-brain scenarios
restart_after_crash = off
